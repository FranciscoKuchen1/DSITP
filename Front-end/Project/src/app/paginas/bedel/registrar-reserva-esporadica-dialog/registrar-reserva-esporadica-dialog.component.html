<h1 mat-dialog-title>Existen aulas que se superponen a otras ya reservadas.</h1>
<div mat-dialog-content>
  <h4>Fechas superpuestas:</h4>

  <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
    <!-- Nodo de fecha -->
    <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding>
      <button mat-icon-button disabled></button>
      {{node.name[0] | date: 'dd/MM/yyyy'}} {{node.name[1]}}
    </mat-tree-node>

    <!-- Nodo de fecha expandible -->
    <mat-nested-tree-node *matTreeNodeDef="let node; when: hasChild">
      <div class="mat-tree-node">
        <button mat-icon-button matTreeNodeToggle>
          <mat-icon class="mat-icon-rtl-mirror">
            {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
          </mat-icon>
        </button>
        {{node.name[0] | date: 'dd/MM/yyyy'}} {{node.name[1]}}
      </div>
      <div [class.example-tree-invisible]="!treeControl.isExpanded(node)"
           role="group">
        <ng-container matTreeNodeOutlet></ng-container>
      </div>
    </mat-nested-tree-node>

    <!-- Nodo de reserva solapada -->
    <mat-nested-tree-node *matTreeNodeDef="let node; when: isReservaSolapada">
      <div class="mat-tree-node reserva-node">
        <button mat-icon-button matTreeNodeToggle>
          <mat-icon class="mat-icon-rtl-mirror">
            {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
          </mat-icon>
        </button>
        {{node.name}}
      </div>
      <div [class.example-tree-invisible]="!treeControl.isExpanded(node)"
           role="group">
        <div class="reserva-details">
          <p><strong>Cátedra:</strong> {{node.reservaSolapada.nombreCatedra}}</p>
          <p><strong>Docente:</strong> {{node.reservaSolapada.nombreDocente}} {{node.reservaSolapada.apellidoDocente}}</p>
          <p><strong>Correo:</strong> {{node.reservaSolapada.correoDocente}}</p>
          <p><strong>Inicio reserva:</strong> {{node.reservaSolapada.inicioReserva.substring(0,5)}}</p>
          <p><strong>Fin reserva:</strong> {{node.reservaSolapada.finReserva.substring(0,5)}}</p>
          <p><strong>Aula:</strong> {{node.aula.nombre}} (Número: {{node.aula.numero}}, Piso: {{node.aula.piso}}, Capacidad: {{node.aula.capacidad}})</p>
        </div>
      </div>
    </mat-nested-tree-node>
  </mat-tree>


</div>
<div mat-dialog-actions align="end">
  <button mat-button mat-raised-button mat-dialog-close color="primary">Cerrar</button>
</div>
